<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ProfeShare — Plataforma</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --blue:#0A2540;   /* azul escuro */
    --orange:#FF7A1A; /* laranja vibrante */
    --muted:#f5f7fa;
    --card:#ffffff;
    --radius:12px;
  }
  *{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
  body{margin:0;background:linear-gradient(180deg,#f8fbff 0%, #ffffff 100%);color:var(--blue);min-height:100vh}
  header{display:flex;align-items:center;justify-content:space-between;padding:18px 28px}
  .brand{display:flex;gap:12px;align-items:center}
  .logo-mark{width:44px;height:44px;border-radius:10px;background:var(--blue);display:grid;place-items:center;color:white;font-weight:700}
  nav{display:flex;gap:16px;align-items:center}
  nav a{color:var(--blue);text-decoration:none;font-weight:600}
  .btn{padding:10px 16px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
  .btn-primary{background:var(--orange);color:white}
  .btn-outline{background:transparent;border:2px solid var(--blue);color:var(--blue)}
  main{max-width:1100px;margin:20px auto;padding:24px}
  .hero{display:flex;gap:32px;align-items:center}
  .hero-left{flex:1}
  h1{font-size:36px;margin:0 0 12px}
  p.lead{margin:0 0 18px;color:#23425b}
  .hero-ctas{display:flex;gap:12px}
  .hero-right{width:320px;height:220px;border-radius:18px;background:linear-gradient(135deg,var(--muted),#fff);display:flex;align-items:center;justify-content:center;box-shadow:0 6px 20px rgba(10,37,64,0.06)}
  .card-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:24px}
  .card{background:var(--card);border-radius:12px;padding:14px;box-shadow:0 6px 20px rgba(10,37,64,0.04)}
  .search-bar{display:flex;gap:8px;align-items:center;margin-top:18px}
  .search-bar input, select{padding:10px;border-radius:10px;border:1px solid #e6eef6;flex:1}
  .resources{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:14px;margin-top:14px}
  .resource{background:white;border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(10,37,64,0.04)}
  .resource .meta{font-size:13px;color:#557086;margin-top:6px}
  .footer{padding:28px;text-align:center;color:#6a879b;margin-top:28px}
  /* Dashboard modal */
  .modal-back{position:fixed;inset:0;background:rgba(2,18,29,0.45);display:none;align-items:center;justify-content:center;padding:16px}
  .modal{width:100%;max-width:780px;background:white;border-radius:12px;padding:18px;box-shadow:0 16px 40px rgba(2,18,29,0.3)}
  .grid-2{display:grid;grid-template-columns:1fr 320px;gap:12px}
  label{display:block;font-size:13px;margin-top:10px;color:#294a63}
  input[type="text"],textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef6}
  textarea{min-height:100px}
  .small{font-size:13px;color:#4b6b80;margin-top:6px}
  .chip{display:inline-block;padding:6px 8px;background:#f1f6fb;border-radius:999px;color:var(--blue);margin-right:6px;margin-top:6px;font-weight:600}
  /* responsive */
  @media (max-width:900px){
    .hero{flex-direction:column;padding:12px}
    .grid-2{grid-template-columns:1fr}
    .hero-right{width:100%;height:160px}
  }
</style>
</head>
<body>

<header>
  <div class="brand">
    <div class="logo-mark">PS</div>
    <div>
      <div style="font-weight:700">ProfeShare</div>
      <div style="font-size:12px;color:#4a6b84">Compartilhe. Aprenda. Repita.</div>
    </div>
  </div>
  <nav>
    <a href="#explorar" id="nav-explorar">Explorar</a>
    <a href="#como" id="nav-como">Como funciona</a>
    <a href="#prof" id="nav-prof">Para Professores</a>
    <button class="btn btn-outline" id="btn-open-login">Entrar / Cadastrar</button>
  </nav>
</header>

<main>
  <section class="hero">
    <div class="hero-left">
      <h1>Compartilhe recursos pedagógicos com outros professores</h1>
      <p class="lead">ProfeShare conecta professores com materiais práticos — planos de aula, atividades, avaliações e mais. Cadastre-se, envie e encontre conteúdo por disciplina, série e formato.</p>
      <div class="hero-ctas">
        <button class="btn btn-primary" id="cta-join">Criar conta gratuita</button>
        <a href="#explorar" class="btn btn-outline" style="text-decoration:none;display:inline-flex;align-items:center;padding:9px 14px">Explorar biblioteca</a>
      </div>

      <div class="card-grid" style="margin-top:22px">
        <div class="card">
          <strong>Fácil de usar</strong>
          <div class="small">Upload rápido, tags e busca inteligente.</div>
        </div>
        <div class="card">
          <strong>Compartilhamento</strong>
          <div class="small">Feedback e avaliações entre professores.</div>
        </div>
        <div class="card">
          <strong>Organização</strong>
          <div class="small">Pastas e versões dos materiais.</div>
        </div>
      </div>

    </div>
    <div class="hero-right" aria-hidden="true">
      <!-- área ilustrativa -->
      <svg width="210" height="140" viewBox="0 0 210 140" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="0" y="0" width="210" height="140" rx="14" fill="#ffffff"/>
        <g transform="translate(24,18)">
          <circle cx="56" cy="38" r="28" fill="var(--blue)" />
          <path d="M22 100 L88 80 L120 110" stroke="var(--orange)" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="22" cy="100" r="8" fill="var(--orange)"/>
          <circle cx="120" cy="110" r="8" fill="#3aa0ff"/>
        </g>
      </svg>
    </div>
  </section>

  <!-- explora / busca -->
  <section id="explorar" style="margin-top:28px">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <h2 style="margin:0">Explorar materiais</h2>
      <div style="color:#5b7a95">Busque e filtre por disciplina, série ou tags</div>
    </div>

    <div class="search-bar">
      <input id="q" placeholder="Procurar por título, tag, disciplina..." />
      <select id="filter-type">
        <option value="">Todos os tipos</option>
        <option>Plano de Aula</option>
        <option>Atividade</option>
        <option>Avaliação</option>
        <option>Slide</option>
      </select>
      <button class="btn btn-primary" id="btn-search">Buscar</button>
    </div>

    <div class="resources" id="resources">
      <!-- cards de material preenchidos por JS -->
    </div>
  </section>

  <section id="como" style="margin-top:26px">
    <h3>Como funciona</h3>
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:10px">
      <div class="card"><strong>1. Cadastre-se</strong><div class="small">Crie perfil e indique disciplinas que leciona.</div></div>
      <div class="card"><strong>2. Envie materiais</strong><div class="small">Upload com título, descrição e tags — pronto.</div></div>
      <div class="card"><strong>3. Compartilhe</strong><div class="small">Colegas usam, avaliam e comentam para melhorar conteúdo.</div></div>
    </div>
  </section>

  <section id="prof" style="margin-top:26px">
    <h3>Para Professores</h3>
    <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:10px">
      <div class="card" style="flex:1;min-width:260px"><strong>Organize</strong><div class="small">Crie coleções e pastas.</div></div>
      <div class="card" style="flex:1;min-width:260px"><strong>Colabore</strong><div class="small">Trabalhe com versões e revisões colaborativas.</div></div>
      <div class="card" style="flex:1;min-width:260px"><strong>Monitore</strong><div class="small">Vea estatísticas simples: downloads e avaliações.</div></div>
    </div>
  </section>

  <div class="footer">
    © <span id="year"></span> ProfeShare · Desenvolvido para professores que compartilham conhecimento.
  </div>
</main>

<!-- modal / login + register -->
<div class="modal-back" id="modalAuth">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="authTitle">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
      <div>
        <div id="authTitle" style="font-weight:700">Entrar</div>
        <div class="small">Acesse sua conta ProfeShare</div>
      </div>
      <button id="closeAuth" style="background:transparent;border:0;font-weight:700;font-size:18px;cursor:pointer">×</button>
    </div>

    <div style="display:flex;gap:12px">
      <div style="flex:1">
        <label for="email">Email</label>
        <input id="email" type="text" placeholder="seu@escola.com"/>
        <label for="pass">Senha</label>
        <input id="pass" type="password" placeholder="uma senha"/>
        <div style="display:flex;gap:8px;margin-top:12px">
          <button class="btn btn-primary" id="btnLogin">Entrar</button>
          <button class="btn btn-outline" id="btnOpenRegister">Criar conta</button>
        </div>
        <div class="small" style="margin-top:10px">Dica: este protótipo salva o usuário no seu navegador (localStorage).</div>
      </div>

      <div style="width:320px;padding-left:12px;border-left:1px solid #eef6fb">
        <div style="font-weight:700;margin-bottom:8px">Ou crie sua conta</div>
        <label for="rname">Nome</label>
        <input id="rname" type="text" placeholder="Seu nome"/>
        <label for="remail">Email</label>
        <input id="remail" type="text" placeholder="seu@exemplo.com"/>
        <label for="rpass">Senha</label>
        <input id="rpass" type="password" placeholder="senha"/>
        <div style="margin-top:12px">
          <button class="btn btn-primary" id="btnRegister">Cadastrar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- modal upload / dashboard -->
<div class="modal-back" id="modalDash">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="dashTitle">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
      <div>
        <div id="dashTitle" style="font-weight:700">Área do Professor</div>
        <div class="small" id="dashUser"></div>
      </div>
      <button id="closeDash" style="background:transparent;border:0;font-weight:700;font-size:18px;cursor:pointer">×</button>
    </div>

    <div class="grid-2">
      <div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
          <strong>Meus materiais</strong>
          <div>
            <button class="btn btn-outline" id="btnNew">Novo material</button>
            <button class="btn" id="btnLogout" style="margin-left:8px">Sair</button>
          </div>
        </div>
        <div id="myList" style="display:grid;gap:10px"></div>
      </div>

      <div>
        <div style="font-weight:700">Enviar novo material</div>
        <div class="small">Preencha os campos e anexe o arquivo (opcional)</div>

        <label for="mTitle">Título</label>
        <input id="mTitle" type="text" placeholder="Ex: Plano de aula - Frações"/>
        <label for="mType">Tipo</label>
        <select id="mType">
          <option>Plano de Aula</option>
          <option>Atividade</option>
          <option>Avaliação</option>
          <option>Slide</option>
        </select>
        <label for="mTags">Tags (separe por vírgula)</label>
        <input id="mTags" type="text" placeholder="matemática, 6º ano, avaliação"/>
        <label for="mDesc">Descrição</label>
        <textarea id="mDesc" placeholder="Descrição breve do material"></textarea>
        <label for="mFile">Arquivo (opcional)</label>
        <input id="mFile" type="file" />
        <div style="margin-top:12px;display:flex;gap:8px">
          <button class="btn btn-primary" id="btnUpload">Enviar material</button>
          <button class="btn btn-outline" id="btnClearForm">Limpar</button>
        </div>

        <div class="small" style="margin-top:10px">Arquivos são convertidos para data URLs no navegador (apenas para protótipo).</div>
      </div>
    </div>

  </div>
</div>

<script>
/* ---------- Utilitário de armazenamento (localStorage) ---------- */
const DB = {
  usersKey: 'ps_users_v1',
  materialsKey: 'ps_materials_v1',
  sessionKey: 'ps_session_v1',
  loadUsers(){ return JSON.parse(localStorage.getItem(this.usersKey)||'[]') },
  saveUsers(u){ localStorage.setItem(this.usersKey, JSON.stringify(u)) },
  loadMaterials(){ return JSON.parse(localStorage.getItem(this.materialsKey)||'[]') },
  saveMaterials(m){ localStorage.setItem(this.materialsKey, JSON.stringify(m)) },
  getSession(){ return JSON.parse(localStorage.getItem(this.sessionKey)||'null') },
  setSession(s){ localStorage.setItem(this.sessionKey, JSON.stringify(s)) },
  clearSession(){ localStorage.removeItem(this.sessionKey) }
}

/* ---------- inicialização com amostras ---------- */
if(!localStorage.getItem(DB.materialsKey)){
  const sample = [
    {id:uid(),title:'Plano: Frações - 6º ano',type:'Plano de Aula',tags:['matemática','6º ano'],desc:'Plano com atividades práticas sobre frações.',author:'maria@escola.com',authorName:'Maria',file:null,created:Date.now()},
    {id:uid(),title:'Atividade: Interpretação de Texto',type:'Atividade',tags:['português','5º ano'],desc:'Conjunto de 10 questões de interpretação.',author:'joao@escola.com',authorName:'João',file:null,created:Date.now()-86400000}
  ];
  DB.saveMaterials(sample);
}

/* ---------- helpers ---------- */
function uid(){return 'm'+Math.random().toString(36).slice(2,9)}
function $(s){return document.querySelector(s)}
function show(el){el.style.display='flex'}
function hide(el){el.style.display='none'}

/* ---------- elementos ---------- */
const modalAuth = $('#modalAuth'), btnOpenLogin = $('#btn-open-login'), closeAuth = $('#closeAuth'), btnOpenRegister = $('#btnOpenRegister');
const btnLogin = $('#btnLogin'), btnRegister = $('#btnRegister');
const modalDash = $('#modalDash'), btnNew = $('#btnNew'), closeDash = $('#closeDash');
const ctaJoin = $('#cta-join'), btnLogout = $('#btnLogout');
const btnUpload = $('#btnUpload'), btnClearForm = $('#btnClearForm'), dashUser = $('#dashUser');
const resourcesEl = $('#resources'), qEl = $('#q'), filterType = $('#filter-type'), btnSearch = $('#btn-search');
const myList = $('#myList');

document.getElementById('year').innerText = new Date().getFullYear();

/* ---------- modal controls ---------- */
btnOpenLogin.addEventListener('click', () => { show(modalAuth) });
closeAuth.addEventListener('click', ()=> hide(modalAuth));
ctaJoin.addEventListener('click', ()=> show(modalAuth));
btnOpenRegister.addEventListener('click', ()=> { /* scroll to register fields */ $('#rname').focus(); });

/* dashboard open */
document.getElementById('nav-prof').addEventListener('click', (e)=>{ e.preventDefault(); openDashIfLogged(); });

function openDashIfLogged(){
  const s = DB.getSession();
  if(!s){ show(modalAuth); return; }
  dashUser.innerText = s.name + ' · ' + s.email;
  refreshMyMaterials();
  show(modalDash);
}

/* close */
closeDash.addEventListener('click', ()=> hide(modalDash));

/* ---------- auth (simples) ---------- */
btnRegister.addEventListener('click', ()=>{
  const name = $('#rname').value.trim(), email = $('#remail').value.trim(), pass = $('#rpass').value;
  if(!name||!email||!pass){ alert('Preencha nome, email e senha.'); return; }
  const users = DB.loadUsers();
  if(users.find(u=>u.email===email)){ alert('Já existe uma conta com esse email.'); return; }
  users.push({id:uid(),name, email, pass});
  DB.saveUsers(users);
  DB.setSession({name,email,id:users[users.length-1].id});
  hide(modalAuth);
  openDashIfLogged();
});

btnLogin.addEventListener('click', ()=>{
  const email = $('#email').value.trim(), pass = $('#pass').value;
  const users = DB.loadUsers();
  const u = users.find(x=>x.email===email && x.pass===pass);
  if(!u){ alert('Credenciais inválidas (teste: use o formulário de cadastro).'); return; }
  DB.setSession({name:u.name,email:u.email,id:u.id});
  hide(modalAuth);
  openDashIfLogged();
});

btnLogout.addEventListener('click', ()=>{
  DB.clearSession();
  hide(modalDash);
  alert('Você saiu da sessão.');
});

/* ---------- upload material ---------- */
btnUpload.addEventListener('click', async ()=>{
  const title = $('#mTitle').value.trim();
  if(!title){ alert('Coloque um título.'); return; }
  const type = $('#mType').value;
  const tags = $('#mTags').value.split(',').map(s=>s.trim()).filter(Boolean);
  const desc = $('#mDesc').value.trim();
  const fileInput = $('#mFile');
  const session = DB.getSession();
  if(!session){ alert('Faça login para enviar materiais.'); return; }

  let fileData = null;
  if(fileInput.files && fileInput.files[0]){
    try{
      fileData = await toDataURL(fileInput.files[0]); // data URL
    } catch(e){ console.error(e); alert('Erro ao ler arquivo'); return; }
  }

  const materials = DB.loadMaterials();
  const item = {id:uid(), title, type, tags, desc, file:fileData ? {name:fileInput.files[0].name,data:fileData} : null, author:session.id, authorName:session.name, created:Date.now()};
  materials.unshift(item);
  DB.saveMaterials(materials);
  clearForm();
  refreshMyMaterials();
  renderResources();
  alert('Material enviado com sucesso!');
});

function toDataURL(file){
  return new Promise((res,rej)=>{
    const fr = new FileReader();
    fr.onload = ()=> res({name:file.name, data:fr.result});
    fr.onerror = ()=> rej();
    fr.readAsDataURL(file);
  });
}

btnClearForm.addEventListener('click', clearForm);
function clearForm(){
  $('#mTitle').value=''; $('#mType').selectedIndex=0; $('#mTags').value=''; $('#mDesc').value=''; $('#mFile').value='';
}

/* ---------- my list (dashboard) ---------- */
function refreshMyMaterials(){
  const s = DB.getSession();
  if(!s){ myList.innerHTML = '<div class="small">Faça login para ver seus materiais.</div>'; return; }
  const materials = DB.loadMaterials().filter(m=>m.author===s.id);
  if(materials.length===0){ myList.innerHTML = '<div class="small">Você ainda não enviou materiais.</div>'; return; }
  myList.innerHTML = '';
  materials.forEach(m=>{
    const el = document.createElement('div');
    el.className='resource';
    el.innerHTML = `<strong>${m.title}</strong><div class="meta">${m.type} · ${new Date(m.created).toLocaleDateString()} · ${m.tags.join(', ')}</div>
      <div style="margin-top:8px;display:flex;gap:8px">
        <button class="btn btn-outline" data-id="${m.id}" onclick="downloadMaterial('${m.id}')">Baixar</button>
        <button class="btn" style="background:#e6f5ff;color:var(--blue)" onclick="removeMaterial('${m.id}')">Remover</button>
      </div>`;
    myList.appendChild(el);
  });
}

/* expose remove/download to global for inline onclick convenience */
window.removeMaterial = function(id){
  if(!confirm('Remover este material?')) return;
  const mats = DB.loadMaterials().filter(m=>m.id!==id);
  DB.saveMaterials(mats);
  refreshMyMaterials();
  renderResources();
}

window.downloadMaterial = function(id){
  const m = DB.loadMaterials().find(x=>x.id===id);
  if(!m) return alert('Material não encontrado.');
  if(!m.file) return alert('Nenhum arquivo anexado neste material.');
  const a = document.createElement('a');
  a.href = m.file.data;
  a.download = m.file.name || 'material';
  a.click();
}

/* ---------- render recursos (explorar) ---------- */
function renderResources(list){
  const materials = list || DB.loadMaterials();
  if(materials.length===0){ resourcesEl.innerHTML = '<div class="small">Nenhum material encontrado.</div>'; return; }
  resourcesEl.innerHTML = '';
  materials.forEach(m=>{
    const div = document.createElement('div');
    div.className = 'resource';
    div.innerHTML = `<strong>${m.title}</strong>
      <div class="meta">${m.type} · ${m.authorName || 'Anônimo'} · ${new Date(m.created).toLocaleDateString()}</div>
      <div style="margin-top:8px">${m.desc || ''}</div>
      <div style="margin-top:10px">${m.tags.map(t=>`<span class="chip">${t}</span>`).join('')}</div>
      <div style="margin-top:10px;display:flex;gap:8px">
        ${m.file ? `<button class="btn btn-primary" onclick="downloadMaterial('${m.id}')">Baixar</button>` : ''}
        <button class="btn btn-outline" onclick="openShare('${m.id}')">Compartilhar</button>
      </div>`;
    resourcesEl.appendChild(div);
  });
}
window.openShare = function(id){
  const m = DB.loadMaterials().find(x=>x.id===id);
  if(!m) return;
  prompt('Link de compartilhamento (simulado). Copie o JSON abaixo se quiser compartilhar:', JSON.stringify({id:m.id,title:m.title,author:m.authorName}));
}

/* ---------- busca ---------- */
btnSearch.addEventListener('click', doSearch);
qEl.addEventListener('keypress', e=>{ if(e.key==='Enter') doSearch(); });

function doSearch(){
  const q = qEl.value.trim().toLowerCase();
  const type = filterType.value;
  const materials = DB.loadMaterials().filter(m=>{
    if(type && m.type!==type) return false;
    if(!q) return true;
    return (m.title.toLowerCase().includes(q) || (m.tags||[]).join(' ').toLowerCase().includes(q) || (m.desc||'').toLowerCase().includes(q));
  });
  renderResources(materials);
}

/* ---------- inicial render ---------- */
renderResources();

/* ---------- helpers para demo: abrir dash se sessão existir ---------- */
window.addEventListener('load', ()=>{
  const s = DB.getSession();
  if(s){ /* auto abre, opcional */ }
});

/* keyboard shortcut to open dash on prototype: ctrl+d */
document.addEventListener('keydown', (e)=>{ if(e.ctrlKey && e.key==='d'){ openDashIfLogged(); } });

</script>
</body>
</html>
